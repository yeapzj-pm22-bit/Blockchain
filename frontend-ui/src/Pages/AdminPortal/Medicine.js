import React, { useState } from 'react';
import Select from 'react-select';
const categoryOptions = [
  {
    label: "Pain & Fever",
    options: [
      { value: "analgesics", label: "Analgesics" },
      { value: "antipyretics", label: "Antipyretics" }
    ]
  },
  {
    label: "Infections",
    options: [
      { value: "antibacterials", label: "Antibacterials" },
      { value: "antibiotics", label: "Antibiotics" },
      { value: "antifungals", label: "Antifungals" },
      { value: "antivirals", label: "Antivirals" }
    ]
  },
  {
    label: "Mental Health",
    options: [
      { value: "antianxiety", label: "Antianxiety Drugs" },
      { value: "antidepressants", label: "Antidepressants" },
      { value: "antipsychotics", label: "Antipsychotics" },
      { value: "sedatives", label: "Sedatives" },
      { value: "sleeping_drugs", label: "Sleeping Drugs" },
      { value: "tranquilizers", label: "Tranquilizers" },
      { value: "barbiturates", label: "Barbiturates" }
    ]
  },
  {
    label: "Cardiovascular",
    options: [
      { value: "antiarrhythmics", label: "Antiarrhythmics" },
      { value: "anticoagulants_thrombolytics", label: "Anticoagulants and Thrombolytics" },
      { value: "antihypertensives", label: "Antihypertensives" },
      { value: "beta_blockers", label: "Beta-Blockers" },
      { value: "diuretics", label: "Diuretics" }
    ]
  },
  {
    label: "Respiratory",
    options: [
      { value: "antihistamines", label: "Antihistamines" },
      { value: "bronchodilators", label: "Bronchodilators" },
      { value: "decongestants", label: "Decongestants" },
      { value: "cough_suppressants", label: "Cough Suppressants" },
      { value: "expectorants", label: "Expectorants" },
      { value: "cold_cures", label: "Cold Cures" }
    ]
  },
  {
    label: "Digestive",
    options: [
      { value: "antacids", label: "Antacids" },
      { value: "antidiarrheals", label: "Antidiarrheals" },
      { value: "antiemetics", label: "Antiemetics" },
      { value: "laxatives", label: "Laxatives" }
    ]
  },
  {
    label: "Hormonal & Metabolic",
    options: [
      { value: "hormones", label: "Hormones" },
      { value: "sex_hormones_female", label: "Sex Hormones (Female)" },
      { value: "sex_hormones_male", label: "Sex Hormones (Male)" },
      { value: "hypoglycemics", label: "Hypoglycemics (Oral)" }
    ]
  },
  {
    label: "Others",
    options: [
      { value: "antiinflammatories", label: "Anti-Inflammatories" },
      { value: "cytotoxics", label: "Cytotoxics" },
      { value: "immunosuppressives", label: "Immunosuppressives" },
      { value: "muscle_relaxants", label: "Muscle Relaxants" },
      { value: "vitamins", label: "Vitamins" }
    ]
  }
];
const dosageFormOptions = [
  {
    label: "Oral Dosage Forms",
    options: [
      { value: "Tablet", label: "Tablet" },
      { value: "Capsule", label: "Capsule" },
      { value: "Caplet", label: "Caplet" },
      { value: "Powder", label: "Powder" },
      { value: "Granule", label: "Granule" },
      { value: "Lozenge", label: "Lozenge (Troche)" },
      { value: "Syrup", label: "Oral Liquid / Syrup" },
      { value: "Suspension", label: "Suspension" },
      { value: "Emulsion", label: "Emulsion" },
      { value: "Elixir", label: "Elixir" },
      { value: "Solution", label: "Solution" },
      { value: "Effervescent Tablet", label: "Effervescent Tablet" }
    ]
  },
  {
    label: "Injectable Forms (Parenteral)",
    options: [
      { value: "Injection (solution)", label: "Injection (solution)" },
      { value: "Injection (suspension)", label: "Injection (suspension)" },
      { value: "Infusion", label: "Infusion" },
      { value: "Depot Injection", label: "Depot Injection" }
    ]
  },
  {
    label: "Topical Forms",
    options: [
      { value: "Cream", label: "Cream" },
      { value: "Ointment", label: "Ointment" },
      { value: "Gel", label: "Gel" },
      { value: "Paste", label: "Paste" },
      { value: "Lotion", label: "Lotion" },
      { value: "Transdermal Patch", label: "Transdermal Patch" },
      { value: "Powder (Topical)", label: "Powder (Topical)" }
    ]
  },
  {
    label: "Inhalation Forms",
    options: [
      { value: "Inhaler (MDI)", label: "Inhaler (MDI)" },
      { value: "Inhaler (DPI)", label: "Inhaler (DPI)" },
      { value: "Nebulizer Solution", label: "Nebulizer Solution" },
      { value: "Nasal Spray", label: "Nasal Spray" }
    ]
  },
  {
    label: "Ophthalmic & Otic Forms",
    options: [
      { value: "Eye Drops", label: "Eye Drops" },
      { value: "Eye Ointment", label: "Eye Ointment" },
      { value: "Ear Drops", label: "Ear Drops" }
    ]
  },
  {
    label: "Rectal & Vaginal Forms",
    options: [
      { value: "Suppository", label: "Suppository" },
      { value: "Enema", label: "Enema" },
      { value: "Pessary", label: "Pessary" },
      { value: "Vaginal Cream", label: "Vaginal Cream" },
      { value: "Vaginal Gel", label: "Vaginal Gel" },
      { value: "Vaginal Tablet", label: "Vaginal Tablet" }
    ]
  },
  {
    label: "Other Specialized Forms",
    options: [
      { value: "Implant", label: "Implant" },
      { value: "Sublingual Tablet", label: "Sublingual Tablet" },
      { value: "Buccal Tablet", label: "Buccal Tablet" },
      { value: "Oral Disintegrating Tablet (ODT)", label: "Oral Disintegrating Tablet (ODT)" }
    ]
  }
];
const approvedIndicationOptions = [
  {
    label: "Cardiovascular",
    options: [
      { value: "Hypertension", label: "Hypertension" },
      { value: "Hyperlipidemia", label: "Hyperlipidemia" },
      { value: "Thrombosis Prevention", label: "Thrombosis Prevention" }
    ]
  },
  {
    label: "Endocrine & Metabolic",
    options: [
      { value: "Diabetes Mellitus", label: "Diabetes Mellitus" },
      { value: "Hormone Replacement Therapy", label: "Hormone Replacement Therapy" },
      { value: "Thyroid Disorder", label: "Thyroid Disorder" }
    ]
  },
  {
    label: "Neurological & Mental Health",
    options: [
      { value: "Depression", label: "Depression" },
      { value: "Anxiety", label: "Anxiety" },
      { value: "Insomnia", label: "Insomnia" },
      { value: "Seizure Disorder", label: "Seizure Disorder" },
      { value: "ADHD", label: "ADHD" },
      { value: "Migraine", label: "Migraine" }
    ]
  },
  {
    label: "Infectious Diseases",
    options: [
      { value: "Bacterial Infection", label: "Bacterial Infection" },
      { value: "Viral Infection", label: "Viral Infection" },
      { value: "Fungal Infection", label: "Fungal Infection" },
      { value: "Urinary Tract Infection (UTI)", label: "Urinary Tract Infection (UTI)" },
      { value: "Skin Infection", label: "Skin Infection" }
    ]
  },
  {
    label: "Respiratory",
    options: [
      { value: "Asthma", label: "Asthma" },
      { value: "COPD", label: "COPD" },
      { value: "Allergic Rhinitis", label: "Allergic Rhinitis" }
    ]
  },
  {
    label: "Gastrointestinal",
    options: [
      { value: "Acid Reflux (GERD)", label: "Acid Reflux (GERD)" },
      { value: "Peptic Ulcer", label: "Peptic Ulcer" },
      { value: "Constipation", label: "Constipation" },
      { value: "Diarrhea", label: "Diarrhea" },
      { value: "Nausea and Vomiting", label: "Nausea and Vomiting" }
    ]
  },
  {
    label: "Musculoskeletal",
    options: [
      { value: "Osteoarthritis", label: "Osteoarthritis" },
      { value: "Rheumatoid Arthritis", label: "Rheumatoid Arthritis" },
      { value: "Muscle Spasm", label: "Muscle Spasm" }
    ]
  },
  {
    label: "Pain & Fever",
    options: [
      { value: "Pain Relief", label: "Pain Relief" },
      { value: "Fever", label: "Fever" }
    ]
  },
  {
    label: "Dermatological",
    options: [
      { value: "Eczema", label: "Eczema" },
      { value: "Psoriasis", label: "Psoriasis" }
    ]
  },
  {
    label: "Oncology",
    options: [{ value: "Cancer", label: "Cancer" }]
  },
  {
    label: "Women's Health",
    options: [
      { value: "Contraception", label: "Contraception" },
      { value: "Menstrual Disorder", label: "Menstrual Disorder" },
      { value: "Endometriosis", label: "Endometriosis" }
    ]
  },
  {
    label: "Eye & Ear",
    options: [
      { value: "Glaucoma", label: "Glaucoma" },
      { value: "Eye Infection", label: "Eye Infection" },
      { value: "Ear Infection", label: "Ear Infection" }
    ]
  }
];
const sideEffectOptions = [
  {
    label: "Gastrointestinal",
    options: [
      { value: "Nausea", label: "Nausea" },
      { value: "Vomiting", label: "Vomiting" },
      { value: "Diarrhea", label: "Diarrhea" },
      { value: "Constipation", label: "Constipation" },
      { value: "Abdominal Pain", label: "Abdominal Pain" },
      { value: "Indigestion", label: "Indigestion" },
      { value: "Loss of Appetite", label: "Loss of Appetite" }
    ]
  },
  {
    label: "Neurological / CNS",
    options: [
      { value: "Headache", label: "Headache" },
      { value: "Dizziness", label: "Dizziness" },
      { value: "Drowsiness", label: "Drowsiness" },
      { value: "Insomnia", label: "Insomnia" },
      { value: "Fatigue", label: "Fatigue" },
      { value: "Tremor", label: "Tremor" }
    ]
  },
  {
    label: "Psychiatric",
    options: [
      { value: "Anxiety", label: "Anxiety" },
      { value: "Depression", label: "Depression" },
      { value: "Mood Changes", label: "Mood Changes" },
      { value: "Irritability", label: "Irritability" }
    ]
  },
  {
    label: "Cardiovascular",
    options: [
      { value: "Palpitations", label: "Palpitations" },
      { value: "Increased Heart Rate", label: "Increased Heart Rate" },
      { value: "High Blood Pressure", label: "High Blood Pressure" },
      { value: "Low Blood Pressure", label: "Low Blood Pressure" }
    ]
  },
  {
    label: "Respiratory",
    options: [
      { value: "Shortness of Breath", label: "Shortness of Breath" },
      { value: "Cough", label: "Cough" },
      { value: "Nasal Congestion", label: "Nasal Congestion" },
      { value: "Sore Throat", label: "Sore Throat" }
    ]
  },
  {
    label: "Dermatological / Skin",
    options: [
      { value: "Rash", label: "Rash" },
      { value: "Itching", label: "Itching" },
      { value: "Dry Skin", label: "Dry Skin" },
      { value: "Sweating", label: "Sweating" },
      { value: "Flushing", label: "Flushing" }
    ]
  },
  {
    label: "Musculoskeletal",
    options: [
      { value: "Muscle Pain", label: "Muscle Pain" },
      { value: "Joint Pain", label: "Joint Pain" },
      { value: "Back Pain", label: "Back Pain" },
      { value: "Muscle Weakness", label: "Muscle Weakness" }
    ]
  },
  {
    label: "Endocrine / Metabolic",
    options: [
      { value: "Weight Gain", label: "Weight Gain" },
      { value: "Weight Loss", label: "Weight Loss" },
      { value: "Increased Blood Sugar", label: "Increased Blood Sugar" },
      { value: "Increased Cholesterol", label: "Increased Cholesterol" }
    ]
  },
  {
    label: "Genitourinary",
    options: [
      { value: "Frequent Urination", label: "Frequent Urination" },
      { value: "Urinary Retention", label: "Urinary Retention" },
      { value: "Menstrual Irregularities", label: "Menstrual Irregularities" },
      { value: "Sexual Dysfunction", label: "Sexual Dysfunction" }
    ]
  },
  {
    label: "Hematological / Immune",
    options: [
      { value: "Bleeding", label: "Bleeding" },
      { value: "Bruising", label: "Bruising" },
      { value: "Increased Infection Risk", label: "Increased Infection Risk" },
      { value: "Anemia", label: "Anemia" }
    ]
  },
  {
    label: "Others",
    options: [
      { value: "Visual Disturbances", label: "Visual Disturbances" },
      { value: "Taste Changes", label: "Taste Changes" },
      { value: "Tinnitus (Ringing in Ear)", label: "Tinnitus (Ringing in Ear)" },
      { value: "Hair Loss", label: "Hair Loss" },
      { value: "Swelling (Edema)", label: "Swelling (Edema)" },
      { value: "Allergic Reaction", label: "Allergic Reaction" }
    ]
  }
];
const dosageFormUnits = {
    Tablet: 'mg',
    Capsule: 'mg',
    Caplet: 'mg',
    Powder: 'g',
    Granule: 'g',
    Lozenge: 'mg',
    Syrup: 'ml',
    Suspension: 'ml',
    Emulsion: 'ml',
    Elixir: 'ml',
    Solution: 'ml',
    'Effervescent Tablet': 'mg',

    'Injection (solution)': 'ml',
    'Injection (suspension)': 'ml',
    Infusion: 'ml',
    'Depot Injection': 'ml',

    Cream: 'g',
    Ointment: 'g',
    Gel: 'g',
    Paste: 'g',
    Lotion: 'ml',
    'Transdermal Patch': 'mg',
    'Powder (Topical)': 'g',

    'Inhaler (MDI)': 'mcg',
    'Inhaler (DPI)': 'mcg',
    'Nebulizer Solution': 'ml',
    'Nasal Spray': 'ml',

    'Eye Drops': 'ml',
    'Eye Ointment': 'g',
    'Ear Drops': 'ml',

    Suppository: 'mg',
    Enema: 'ml',
    Pessary: 'mg',
    'Vaginal Cream': 'g',
    'Vaginal Gel': 'g',
    'Vaginal Tablet': 'mg',

    Implant: 'mg',
    'Sublingual Tablet': 'mg',
    'Buccal Tablet': 'mg',
    'Oral Disintegrating Tablet (ODT)': 'mg',
  };
const statusOptions = [
    { value: 'active', label: 'Active' },
    { value: 'inactive', label: 'Inactive' }
  ];
const customSelectStyles = {
  control: (base) => ({
    ...base,
    color: 'black',
  }),
  singleValue: (base) => ({
    ...base,
    color: 'black',
  }),
  option: (base, { isFocused, isSelected }) => ({
    ...base,
    color: 'black',
    backgroundColor: isSelected
      ? '#e6e6e6'
      : isFocused
      ? '#f2f2f2'
      : 'white',
  }),
  placeholder: (base) => ({
    ...base,
    color: '#999', // Optional: grey placeholder
  }),
  input: (base) => ({
    ...base,
    color: 'black',
  }),
};
const Medicine = () => {

  const [dosageForm, setDosageForm] = useState('');
  const [approvedIndication, setApprovedIndication] = useState('');
  const [selectedSideEffects, setSelectedSideEffects] = useState([]);
  const [category, setCategory] = useState(null);
  const [unit, setUnit] = useState('');
  const [status, setStatus] = useState(null);

  const handleDosageFormChange = (selectedOption) => {
    const selectedForm = selectedOption?.value || '';
    setDosageForm(selectedOption); // store the full object if needed
    setUnit(dosageFormUnits[selectedForm] || '');
  };

  return (
    <div className="container-fluid">
      <div className="row column_title">
        <div className="col-md-12">
          <div className="page_title">
            <h2>Create New Medicine</h2>
          </div>
        </div>
      </div>

      <div className="container mt-4">
        <form className="p-4 border rounded shadow bg-white">
          <div className="row g-3">
            {/* Medicine Name */}
            <div className="col-md-6">
              <label className="form-label">Medicine Name</label>
              <input
                type="text"
                className="form-control"
                placeholder="Enter medicine name"
              />
            </div>

            {/* Dosage Form */}
            <div className="col-md-6">
              <label className="form-label">Dosage Form</label>
              <Select
                options={dosageFormOptions}
                value={dosageForm}
                onChange={handleDosageFormChange}
                placeholder="-- Select Dosage Form --"
                styles={customSelectStyles}
              />
            </div>

            {/* Strength */}
            <div className="col-md-6">
              <label className="form-label">Strength</label>
              <input
                type="text"
                className="form-control"
                placeholder="e.g. 500"
              />
            </div>

            {/* Unit */}
            <div className="col-md-6">
              <label className="form-label">Unit</label>
              <input type="text" className="form-control" value={unit} readOnly />
            </div>

            {/* Category */}
            <div className="col-md-6">
              <label className="form-label">Category</label>
              <Select
                options={categoryOptions}
                value={category}
                onChange={(selected) => setCategory(selected)}
                placeholder="-- Select Category --"
                styles={customSelectStyles}
              />
            </div>

            {/* Approved Indication */}
            <div className="col-md-6">
              <label className="form-label">Approved Indication</label>
              <Select
                options={approvedIndicationOptions}
                value={approvedIndication}
                onChange={(selected) => setApprovedIndication(selected)}
                placeholder="-- Select Approved Indication --"
                styles={customSelectStyles}
              />
            </div>

            {/* Side Effects */}
            <div className="col-md-6">
              <label className="form-label">Side Effects</label>
              <Select
                      isMulti
                      options={sideEffectOptions}
                      value={selectedSideEffects}
                      onChange={setSelectedSideEffects}
                      placeholder="Select side effects..."
                      styles={customSelectStyles}
                    />
            </div>

            {/* Manufacturer Name */}
            <div className="col-md-6">
              <label className="form-label">Manufacturer Name</label>
              <input
                type="text"
                className="form-control"
                placeholder="Enter manufacturer name"
              />
            </div>

            {/* Status */}
            <div className="col-md-6">
              <label className="form-label">Status</label>
              <Select
                options={statusOptions}
                value={status}
                onChange={(selectedOption) => setStatus(selectedOption)}
                placeholder="-- Select Status --"
                styles={customSelectStyles}
              />
            </div>
          </div>

          {/* Submit */}
          <div className="text-end mt-4">
            <button type="submit" className="btn btn-primary px-4">
              Create Medication
            </button>
          </div>
        </form>
      </div>
    </div>
  );
};

export default Medicine;
